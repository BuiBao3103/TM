@model TM.Models.ViewModels.CountryLocationViewModel

@{
    ViewData["Title"] = "Chọn Quốc Gia";
}

<h3>Danh sách quốc gia:</h3>

<div class="d-flex gap-2 overflow-auto mb-3 border-bottom">
    @foreach (var country in Model.Countries)
    {
        var isActive = country.Id == Model.SelectedCountryId;
        <a class="btn @(isActive ? "btn-primary" : "btn-outline-primary")"
           href="@Url.Action("Index", "CountryLocation", new { countryId = country.Id })">
            @country.Name (@country.Code)
        </a>
    }
</div>

@if (Model.SelectedCountryId != null)
{
    <h4>Địa điểm thuộc quốc gia: @Model.Countries.First(c => c.Id == Model.SelectedCountryId)?.Name</h4>

    @if (Model.Locations.Any())
    {
        <ul class="list-group">
            @foreach (var location in Model.Locations)
            {
                <li class="list-group-item">
                    <strong>@location.LocationName</strong>
                    @if (!string.IsNullOrEmpty(location.Description))
                    {
                        <span> - @location.Description</span>
                    }
                </li>
            }
        </ul>
    }
    else
    {
        <p><em>Không có địa điểm nào cho quốc gia này.</em></p>
    }
}
else
{
    <p><em>Chọn một quốc gia để xem danh sách địa điểm.</em></p>
}